buildPack: none
agent:
  image: library/golang:latest
pipelineConfig:
  pipelines:
    pullRequest:
      pipeline:
        agent:
          image: library/golang:latest
        stages:
        - name: ci
          steps:
          - groovy: checkout scm
            name: checkout-scm
          - sh: go get github.com/golang/dep
            name: go-get-dep
          - sh: make build
            image: library/golang:latest
            name: make-linux
          - sh: make test
            image: library/golang:latest
            name: make-test